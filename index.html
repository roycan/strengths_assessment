<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scholar’s Compass VIA Assessment</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <section class="hero is-primary">
    <div class="hero-body">
      <div class="app-container">
        <h1 class="title has-text-white">Scholar’s Compass: VIA Strengths Assessment</h1>
        <p class="subtitle has-text-white">72 quick choices. 20 seconds each. One instinctive selection per pair.</p>
      </div>
    </div>
  </section>

  <main class="app-container">
    <!-- Consent Screen -->
    <section id="screen-consent" class="card">
      <div class="card-content">
        <h2 class="title is-4">Consent and privacy</h2>
        <p>This activity has 72 paired choices. You’ll have 20 seconds per pair. Your responses are saved only on your device (localStorage). No personal data is collected or sent to a server. You can export your results as JSON or CSV.</p>
        <div class="field mt-3">
          <label class="checkbox">
            <input id="consent-check" type="checkbox"> I agree to participate voluntarily.
          </label>
        </div>
        <div class="buttons mt-3">
          <button id="btn-start" class="button is-primary" disabled>Start assessment</button>
          <button id="btn-resume" class="button is-link is-light hidden">Resume saved session</button>
          <button id="btn-clear" class="button is-danger is-light">Clear saved data</button>
        </div>
        
        <!-- Motivation block: concise, research-backed benefits -->
        <div class="motivation" aria-live="polite">
          <div class="motivation-title"><strong>Why this matters</strong></div>
          <ul class="motivation-list">
            <li>Using your strengths is linked to higher energy and engagement.</li>
            <li>Small, intentional use builds confidence and momentum.</li>
            <li>Effects vary by person—experiment and notice what works.</li>
          </ul>
          <button type="button" class="button is-small is-light motivation-learn">Learn more</button>
        </div>
      </div>
    </section>

    <!-- Assessment Screen -->
    <section id="screen-assessment" class="card hidden">
      <div class="card-content">
        <div class="progress-info">
          <span id="progress-count" class="tag is-info is-light">0 / 96</span>
          <span id="timer" class="tag is-warning is-light">20s</span>
        </div>
        <h2 id="question-title" class="title is-5">Question</h2>
        <div class="statements">
          <div class="statement"><strong>A:</strong> <span id="choice-a-text"></span></div>
          <div class="statement"><strong>B:</strong> <span id="choice-b-text"></span></div>
        </div>
        <div class="scale-options" role="radiogroup" aria-label="Select how much A or B resonates">
          <label>
            <input type="radio" name="scale" value="strongA"> Strongly A
          </label>
          <label>
            <input type="radio" name="scale" value="slightA"> Slightly A
          </label>
          <label class="equal">
            <input type="radio" name="scale" value="equal"> Equal
          </label>
          <label class="neither">
            <input type="radio" name="scale" value="neither"> Neither fits me
          </label>
          <label>
            <input type="radio" name="scale" value="slightB"> Slightly B
          </label>
          <label>
            <input type="radio" name="scale" value="strongB"> Strongly B
          </label>
        </div>
        <p class="help is-size-7 has-text-grey">Pick the side that feels more you right now. Use Equal if both truly fit. Choose Neither if neither fits; it lightly credits both sides.</p>
        <progress id="progress-bar" class="progress is-small is-info" value="0" max="96">0%</progress>
      </div>
    </section>

    <!-- Results Screen -->
    <section id="screen-results" class="card hidden">
      <div class="card-content">
        <h2 class="title is-4">Your results</h2>
        <p>Raw scores (0–16) and percentage of the maximum for each strength. Top five highlighted.</p>

        <!-- Desktop table -->
        <div class="table-container is-hidden-mobile">
          <table class="table is-fullwidth is-striped is-hoverable">
            <thead>
              <tr><th>Rank</th><th>Strength</th><th>Score</th><th>% of Max</th></tr>
            </thead>
            <tbody id="results-table-body"></tbody>
          </table>
        </div>

        <!-- Mobile cards -->
        <div id="results-cards" class="is-hidden-tablet"></div>

        <p id="meta-note" class="is-size-7 has-text-grey mt-2"></p>
        <div class="buttons mt-3">
          <button id="btn-download-json" class="button is-link">Download JSON</button>
          <button id="btn-download-csv" class="button is-info">Download CSV</button>
          <a href="results/journey/" class="button is-success">Continue: Your Strengths Journey →</a>
          <button id="btn-restart" class="button is-primary is-light">Restart</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast"></div>


    <!-- Scripts -->
  <!-- 1. Data definitions (strengths, blurbs, questions, weights) -->
  <script src="data.js"></script>
  <script src="questions.js"></script>

  <!-- 2. Core logic: state, navigation, assessment flow, results rendering -->
  <script src="functions1.js"></script>

  <!-- 3. Utilities: exports, restart, toast notifications -->
  <script src="functions2.js"></script>
  
  <!-- 4. Motivation: reusable block + modal enhancer -->
  <script src="js/motivation.js"></script>
  <script>
    // Initialize motivation blocks when DOM is ready
    document.addEventListener('DOMContentLoaded', function(){
      if(window.enhanceMotivationBlocks){ window.enhanceMotivationBlocks(); }
    });
  </script>
</body>
</html>
